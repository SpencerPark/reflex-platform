diff --git a/aclocal.m4 b/aclocal.m4
index ac20bbc630..05343567e8 100644
--- a/aclocal.m4
+++ b/aclocal.m4
@@ -360,102 +360,37 @@ AC_DEFUN([FPTOOLS_SET_HASKELL_PLATFORM_VARS],
 # Get info about the ISA on the ARM arch
 AC_DEFUN([GET_ARM_ISA],
 [
-    AC_COMPILE_IFELSE([
-        AC_LANG_PROGRAM(
-            [],
-            [#if defined(__ARM_ARCH_2__)  || \
-                 defined(__ARM_ARCH_3__)  || \
-                 defined(__ARM_ARCH_3M__) || \
-                 defined(__ARM_ARCH_4__)  || \
-                 defined(__ARM_ARCH_4T__) || \
-                 defined(__ARM_ARCH_5__)  || \
-                 defined(__ARM_ARCH_5T__) || \
-                 defined(__ARM_ARCH_5E__) || \
-                 defined(__ARM_ARCH_5TE__)
-                 return 0;
-             #else
-                 not pre arm v6
-             #endif]
-        )],
-        [AC_DEFINE(arm_HOST_ARCH_PRE_ARMv6, 1, [ARM pre v6])
-         AC_DEFINE(arm_HOST_ARCH_PRE_ARMv7, 1, [ARM pre v7])
-         changequote(, )dnl
-         ARM_ISA=ARMv5
-         ARM_ISA_EXT="[]"
-         changequote([, ])dnl
-        ],
-        [
-            AC_COMPILE_IFELSE([
-                AC_LANG_PROGRAM(
-                    [],
-                    [#if defined(__ARM_ARCH_6__)   || \
-                         defined(__ARM_ARCH_6J__)  || \
-                         defined(__ARM_ARCH_6T2__) || \
-                         defined(__ARM_ARCH_6Z__)  || \
-                         defined(__ARM_ARCH_6ZK__) || \
-                         defined(__ARM_ARCH_6K__)  || \
-                         defined(__ARM_ARCH_6KZ__) || \
-                         defined(__ARM_ARCH_6M__)
-                         return 0;
-                     #else
-                         not pre arm v7
-                     #endif]
-                )],
-                [AC_DEFINE(arm_HOST_ARCH_PRE_ARMv7, 1, [ARM pre v7])
-                 ARM_ISA=ARMv6
-                 AC_COMPILE_IFELSE([
-                        AC_LANG_PROGRAM(
-                                [],
-                                [#if defined(__VFP_FP__)
-                                     return 0;
-                                #else
-                                     no vfp
-                                #endif]
-                        )],
-                        [changequote(, )dnl
-                         ARM_ISA_EXT="[VFPv2]"
-                         changequote([, ])dnl
-                        ],
-                        [changequote(, )dnl
-                         ARM_ISA_EXT="[]"
-                         changequote([, ])dnl
-                        ]
+    ARM_ISA=ARMv7
+    ARM_ISA_EXT="[VFPv3,NEON]"
+
+    AC_COMPILE_IFELSE(
+           [AC_LANG_PROGRAM(
+                   [],
+                   [#if defined(__SOFTFP__)
+                        return 0;
+                   #else
+                        not softfp
+                   #endif]
+           )],
+           [changequote(, )dnl
+            ARM_ABI="SOFT"
+            changequote([, ])dnl
+           ],
+           [AC_COMPILE_IFELSE(
+                [AC_LANG_PROGRAM(
+                   [],
+                   [#if defined(__ARM_PCS_VFP)
+                        return 0;
+                   #else
+                        no hard float ABI
+                   #endif]
                 )],
-                [changequote(, )dnl
-                 ARM_ISA=ARMv7
-                 ARM_ISA_EXT="[VFPv3,NEON]"
-                 changequote([, ])dnl
-                ])
-        ])
-
-        AC_COMPILE_IFELSE(
-               [AC_LANG_PROGRAM(
-                       [],
-                       [#if defined(__SOFTFP__)
-                            return 0;
-                       #else
-                            not softfp
-                       #endif]
-               )],
-               [changequote(, )dnl
-                ARM_ABI="SOFT"
-                changequote([, ])dnl
-               ],
-               [AC_COMPILE_IFELSE(
-                    [AC_LANG_PROGRAM(
-                       [],
-                       [#if defined(__ARM_PCS_VFP)
-                            return 0;
-                       #else
-                            no hard float ABI
-                       #endif]
-                    )],
-                    [ARM_ABI="HARD"],
-                    [ARM_ABI="SOFTFP"]
-               )]
-        )
-
-        AC_SUBST(ARM_ISA)
+                [ARM_ABI="HARD"],
+                [ARM_ABI="SOFTFP"]
+           )]
+    )]
+
+    AC_SUBST(ARM_ISA)
 ])
 
 
